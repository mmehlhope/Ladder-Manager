- content_for(:title, "Ladder Management")

%section.main
  %header.clearfix
    .section-title
      %h1= yield(:title)
    .section-actions
      %a.btn.pull-right(href="#{ladder_path(@ladder)}") View ladder
  = render 'includes/message' if flash_message? && user_can_admin_ladder
  = render partial: 'includes/validation_errors', locals: {error_messages: @ladder.errors.full_messages} if @ladder.errors.any?
  %section.management-panel
    %ul.navigation.three-across
      %li.active
        %a.btn.btn-link(href="#competitors" data-toggle="tab") Competitors
      %li
        %a.btn.btn-link(href="#matches" data-toggle="tab") Matches
      %li
        %a.btn.btn-link(href="#ladders" data-toggle="tab") Details

    .tab-content

      .tab-pane#competitors.active

      .tab-pane#matches

      .tab-pane#ladders


:coffeescript
  require ['backbone/pages/manage_ladder'], (ManageLadderPage) ->
    ladderEdit = new ManageLadderPage(
      ladder      : #{@ladder_json}
      matches     : #{@matches_json}
      competitors : #{@competitors_json}
    )

