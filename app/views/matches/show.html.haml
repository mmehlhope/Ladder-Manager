%div.col-large.centeredContainer.container-small-offset
  %h1.panelHeading Match # #{@match.id} #{@match.finalized? ? '(final)' : nil}
  .panel
    = render 'includes/message' unless flash.nil?
    = render partial: 'includes/validation_errors', locals: {error_messages: @match.errors.full_messages} if @match.errors.any?

    - if @match.games.length > 0
      %table.table.table-striped
        %thead
          %th Game #
          %th Date played
          %th #{@match.competitor_1_name}'s score
          %th #{@match.competitor_2_name}'s score
          %th Actions
        %tbody
          - series = 0
          - @match.games.each do |game|
            %tr
              %td
                %span.badge= series += 1
              %td= game.created_at.strftime("%m/%d/%Y")
              %td= game.competitor_1_score
              %td= game.competitor_2_score
              %td
        - if !@match.finalized?
          %tfoot
            %tr
              %td(colspan="4")
                %a(href="#{new_match_game_path(@match)}") Record a new game
                %a(href="#{finalize_match_path(@match)}") Finalize match
    - else
      %p There are no games recorded for this match
      %a(href="#{new_match_game_path(@match)}") Record a new game